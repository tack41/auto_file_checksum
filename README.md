# auto_file_checksum

Windows環境でPowershellにて指定されたフォルダ、ファイルのSHA256によるチェックサム作成、検証を行います(Redmine#111)

# Features

* ファイルを指定された場合、以下の動作をします
  * ファイル名の最後に「.sha256」で終わるファイルが存在する場合: そのファイルから前回のチェックサムを取得し、certutilコマンドで取得した現在のチェックサム値と比較した結果を表示します。  
  * ファイル名の最後に「.sha256」で終わるファイルが存在しない場合: certutilコマンドで取得した現在のチェックサム値を「.sha256」で終わるファイルに保存します。
* ディレクトリを指定された場合、ディレクトリ内に存在するファイルに対して再帰的に上記の動作をします。

# Requirement

* powershell
* Windows環境(certutilが動作する)

Windows 10 22H2, PowerShell  5.1.19041.2364 で動作確認しています。

# Installation

本リポジトリの内容を任意の場所にclone, checkoutしてください。

# Usage

main.bat の引数としてファイル、またはディレクトリのパスを指定します。

エクスプローラで、ファイルまたはフォルダをmain.batにドラッグ&ドロップしてもよいです。

エラーが発生した場合、行の先頭に「[NG]」と表示されます。

すべての処理が終了後、エラーが発生した場合は「!!! Some error occured !!!」と表示後にエラー内容を再度表示します。エラーが発生しなかった場合は「\*\*\* Succeeded \*\*\*」と表示されます。

# Note

Google アカウントの各種データをエクスポートしてHDDにバックアップする際に、HDDの故障などでデータが壊れたことを検出するために作成しました。

元々は手動でチェックサムをチェックしていましたが、だるいので自動化しようとしたのが本プログラムを作成することになった動機です。

# Author

tack41(tack41@gmail.com)

# License

[MIT license](https://en.wikipedia.org/wiki/MIT_License).